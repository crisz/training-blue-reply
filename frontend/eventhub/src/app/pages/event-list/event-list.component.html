<mat-toolbar color="primary" class="mbotton10">
  <div class="capitalize">Benvenuto {{userData?.username}}!</div>
  <span class="example-spacer"></span>
  <button (click)="goToLoginPage()" mat-button>Esci</button>
</mat-toolbar>
<div *ngIf="isLoading" class="box-spinner"> <!-- Esempio di spinner-->
  <mat-spinner
  class="class-spinner">
  </mat-spinner>
</div>
<mat-tab-group>
  <mat-tab label="Tutti gli Eventi">
    <div class="primaryContent">
      <div class="flex centered">
        <div class="section-title">Tutti gli eventi</div>
        <div (click)="reloadAllEvents()" class="reload-icon"></div>
      </div>
      <div class="events-container">
        
        <mat-card
          class="example-card"
          appearance="outlined"
          *ngFor="let event of eventDataList || []"
        >
          <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>{{ event.title }}</mat-card-title>
            <mat-card-subtitle>{{ event.place }}</mat-card-subtitle>
          </mat-card-header>
          <img mat-card-image [src]="event.imageUrl" alt="Photo of the event" />
          <mat-card-content>
            <p style="margin-top: 2rem">
              {{ event.description }}
            </p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button>Partecipa</button>
          </mat-card-actions>
        </mat-card>
  
        <div
          *ngIf="eventDataList && eventDataList.length === 0"
          class="no-events"
        >
          Non ci sono eventi
        </div>
      </div>
      </div>
  </mat-tab>

  <mat-tab label="I Miei Eventi">
    <div class="primaryContent">
      <div class="flex centered">
        <div class="section-title">I MIEI EVENTI</div>
        <div (click)="reloadMyEvents()" class="reload-icon"></div>
      </div>

      <mat-list
        *ngIf="eventMyDataList && eventMyDataList.length > 0"
        role="list"
        class="event-list"
      >
        <mat-card
          class="box-event"
          *ngFor="let item of eventMyDataList"
          (click)="openDetailModal(item)"
          role="listitem"
        >
          <div class="event-details">
            <div class="w50">Nome Evento: {{ item.title }}</div>
            <div class="w20">Luogo: {{ item.place }}</div>
            <div class="w20">
              Numero Partecipanti: {{ item.participantIds.length }}
            </div>
          </div>
        </mat-card>
        <mat-divider></mat-divider>
      </mat-list>

      <div
        *ngIf="eventMyDataList && eventMyDataList.length === 0"
        class="no-events"
      >
        Non ci sono eventi
      </div>

      <div class="add-button-container">
        <button (click)="openModalAdd()" color="primary" mat-flat-button>Aggiungi nuovo Evento</button>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
